# 内置能力清单（Builtins）

以下能力可直接通过步骤DSL使用：

## 管理与文档
- `admin.reload`：重载路由与配置，返回 Added/Removed/Unchanged 概览
- `admin.lint`：接口配置检查，返回问题与警告列表
- `admin.docs`：返回接口文档端点列表
- `admin.openapi`：生成 OpenAPI 规范（含安全方案）
- `hooks.inspect`：按方法/路径检视 Auth/Before/After 钩子链
- `admin.plugins_usage`：插件使用情况与端点清单
- `admin.builtin`：列出当前内置能力

## 观测与指标
- `obs.metrics`：导出 Prometheus 文本指标（请求数/耗时/状态码）

## 数据处理
- `sql.query` / `sql.exec`：数据库查询与执行（支持参数顺序 `order` 与 SQL 日志）
- `cache.set` / `cache.get`：进程内缓存读写
- `kv.set` / `kv.get`：KV 存取（示例实现为 TTLCache）
- `http.request`：外部 HTTP 请求，支持重试/退避与熔断
- `upload.save`：保存上传文件至 Blob，返回 `[]string` 文件ID
- `model.apply`：应用模型定义（DDL）

## 向量能力
- `vector.ensure`：创建集合（维度/度量）
- `vector.upsert` / `vector.delete`：写入与删除向量
- `vector.search` / `vector.upsert_batch`：检索与批量写入

## 插件
- `plugin.call`：调用插件函数，支持 `retry/backoff/circuit`
- `plugins.status`：查询运行时状态
- `plugins.control`：启用/禁用插件（`action: enable|disable`）
- `plugins.add/remove/restart/stop/start`：动态增删与启停

## 认证
- `auth.jwt`：签发 JWT（路由层配置校验 roles/permissions）

> 参考：internal/router/router.go:338–363 BuiltinsList；各步骤实现见 internal/core/engine.go