# 第一阶段：基础入门（1-2天）

## 1.1 环境准备与项目启动

### 目标
完成环境搭建和第一个接口配置，验证服务正常运行。

### 1.1.1 编译框架

**Windows系统编译命令：**
```bash
# 在项目根目录运行
go build -o bin/server ./cmd/server

# 生成的可执行文件：
# - Windows: bin/server.exe
# - Unix: bin/server
```

### 1.1.2 启动服务

**启动命令：**
```bash
# 在项目根目录运行
bin/server.exe
```

**服务配置：**
- 默认监听端口：`:8080`
- 可通过 `configs/project.yaml` 的 `server.port` 修改端口
- 热重载：设置 `server.autoReload` 为 `true` 可自动检测配置变更

### 1.1.3 目录约定

**核心目录结构：**
```
configs/
├── project.yaml          # 项目运行参数配置
├── interfaces/           # 接口定义目录
│   └── <module>/         # 模块目录
│       └── <endpoint>.yaml # 接口配置文件
├── hooks/                # 钩子配置目录
│   └── <hook-type>/      # 钩子类型目录
└── .env                  # 环境变量文件

storage/                  # 本地Blob存储目录
```

**配置文件说明：**
- `configs/project.yaml`：项目运行参数（端口、超时、CORS、限流、数据源、插件、认证）
- `configs/interfaces/`：接口定义（方法/路径/认证/限流/事务/文档与步骤DSL）
- `configs/hooks/`：钩子配置（Auth/Before/After，可按接口匹配与覆盖）
- `storage/`：本地Blob存储（上传文件保存目录）

### 1.1.4 验证服务

**验证服务正常运行：**
```bash
# 使用curl测试
curl http://localhost:8080/docs

# 或者在浏览器访问
# - http://localhost:8080/docs - 接口文档
# - http://localhost:8080/openapi.json - OpenAPI规范
```

### 1.1.5 热重载配置（可选）

**启用热重载：**
```yaml
# configs/project.yaml
server:
  autoReload: true  # 启用配置热重载
```

启用后，服务会自动检测 `configs/` 目录下的配置变更并重建路由，无需重启服务。

### 1.1.6 第一个简单接口

**创建第一个接口配置文件：**
```yaml
# configs/interfaces/demo/hello.yaml
module: demo
endpoint: hello
method: GET
path: /api/hello

steps:
  - response:
      status: 200
      body:
        message: "Hello, World!"
```

**验证接口：**
```bash
curl http://localhost:8080/api/hello
```

**预期响应：**
```json
{
  "message": "Hello, World!"
}
```

### 1.1.7 常见问题

1. **端口冲突**：如果8080端口被占用，修改 `configs/project.yaml` 中的 `server.port`
2. **编译错误**：确保Go环境配置正确，依赖包已安装
3. **服务无法启动**：检查 `configs/project.yaml` 配置文件格式是否正确

### 下一步学习
完成本阶段后，继续学习：[项目配置理解](./02-项目配置理解.md)