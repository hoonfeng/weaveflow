# 限流与防重放

## 端点级限流（接口配置）
```yaml
rateLimit:
  rps: 20
  burst: 50
  perIp: true
  perTenant: false
  perKey: false
```
- `perTenant`: 从请求头 `X-Tenant-Id` 读取租户键
- `perKey`: 从请求头 `X-Api-Key` 读取密钥键

## 全局限流（项目配置）
```yaml
rateLimit:
  enabled: true
  rps: 100
  burst: 200
  perIp: true
```

## 防重放（ApiKey+HMAC）
- `X-Nonce` 在缓存中维护 5 分钟有效；重复 Nonce 将拒绝该请求。