# 静态资源托管（零代码）

## 目的
- 为前端应用（Portal/Admin/Web 文档）提供静态文件与目录托管能力，仅通过 `configs/project.yaml` 配置，无需写后端代码。

## 配置结构
```yaml
static:
  enabled: true
  items:
    - route: /portal/
      dir: webui/portal/dist
      index: index.html
      spa: true
      strip: true
    - route: /admin/
      dir: webui/admin/dist
      index: index.html
      spa: true
      strip: true
    - route: /docs/
      dir: web/docs
      index: index.html
      spa: false
      strip: true
    - route: /robots.txt
      file: web/robots.txt
```

## 字段说明
- `route`: 路由前缀或精确路径（目录用前缀，单文件用精确路径）
- `dir`: 目录路径；与 `route` 组合进行目录托管
- `file`: 单文件路径；与 `route` 组合进行单文件托管
- `index`: 目录首页文件（默认 `index.html`）
- `spa`: 开启后不存在的路径回退至 `index`（适配前端路由）
- `strip`: 对前缀执行 `StripPrefix`（前端构建产物通常需要）

## 示例
- 将 Portal 打包产物发布到 `/portal/`，SPA 模式：
```yaml
static:
  enabled: true
  items:
    - route: /portal/
      dir: webui/portal/dist
      index: index.html
      spa: true
      strip: true
```

## 验证
- 启动服务后访问：`http://localhost:8080/portal/`、`/admin/`、`/docs/` 等路径。